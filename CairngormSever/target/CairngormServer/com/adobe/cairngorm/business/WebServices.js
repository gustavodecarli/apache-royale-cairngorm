/**
 * Generated by Apache Royale Compiler from com/adobe/cairngorm/business/WebServices.as
 * com.adobe.cairngorm.business.WebServices
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('com.adobe.cairngorm.business.WebServices');
/* Royale Dependency List: com.adobe.cairngorm.CairngormError,com.adobe.cairngorm.CairngormMessageCodes,com.adobe.cairngorm.business.IServiceLocator,mx.rpc.soap.WebService,org.apache.royale.utils.Language*/

goog.require('com.adobe.cairngorm.business.AbstractServices');



/**
 * @constructor
 * @extends {com.adobe.cairngorm.business.AbstractServices}
 */
com.adobe.cairngorm.business.WebServices = function() {
  com.adobe.cairngorm.business.WebServices.base(this, 'constructor');

this.com_adobe_cairngorm_business_WebServices_services = {};
};
goog.inherits(com.adobe.cairngorm.business.WebServices, com.adobe.cairngorm.business.AbstractServices);


/**
 * Prevent renaming of class. Needed for reflection.
 */
goog.exportSymbol('com.adobe.cairngorm.business.WebServices', com.adobe.cairngorm.business.WebServices);


/**
 * @private
 * @type {Object}
 */
com.adobe.cairngorm.business.WebServices.prototype.com_adobe_cairngorm_business_WebServices_services = null;


/**
 * Register the services.
 * @asparam serviceLocator the IServiceLocator instance.
 * @export
 * @override
 */
com.adobe.cairngorm.business.WebServices.prototype.register = function(serviceLocator) {
  var /** @type {Array} */ accessors = this.getAccessors(serviceLocator);
  for (var /** @type {number} */ i = 0; i < accessors.length; i++) {
    var /** @type {string} */ name = org.apache.royale.utils.Language.string(accessors[i]);
    var /** @type {Object} */ obj = serviceLocator[name];
    if (org.apache.royale.utils.Language.is(obj, mx.rpc.soap.WebService)) {
      var /** @type {mx.rpc.soap.WebService} */ webService = org.apache.royale.utils.Language.as(obj, mx.rpc.soap.WebService, true);
      webService.loadWSDL();
      webService.requestTimeout = this.timeout;
      this.com_adobe_cairngorm_business_WebServices_services[name] = obj;
    }
  }
};


/**
 * Return the service with the given name.
 * @asparam name the name of the service.
 * @asreturn the service.
 * @export
 * @override
 */
com.adobe.cairngorm.business.WebServices.prototype.getService = function(name) {
  var /** @type {mx.rpc.soap.WebService} */ service = /* implicit cast */ org.apache.royale.utils.Language.as(this.com_adobe_cairngorm_business_WebServices_services[name], mx.rpc.soap.WebService, true);
  if (service == null) {
    throw new com.adobe.cairngorm.CairngormError(com.adobe.cairngorm.CairngormMessageCodes.WEB_SERVICE_NOT_FOUND, name);
  }
  return service;
};


/**
 * Set the credentials for all registered services.
 * @asparam username the username to set.
 * @asparam password the password to set.
 * @export
 * @override
 */
com.adobe.cairngorm.business.WebServices.prototype.setCredentials = function(username, password) {
  for (var /** @type {string} */ name in this.com_adobe_cairngorm_business_WebServices_services) {
    var /** @type {mx.rpc.soap.WebService} */ service = /* implicit cast */ org.apache.royale.utils.Language.as(this.com_adobe_cairngorm_business_WebServices_services[name], mx.rpc.soap.WebService, true);
    service.setCredentials(username, password);
  }
};


/**
 * Set the remote credentials for all registered services.
 * @asparam username the username to set.
 * @asparam password the password to set.
 * @export
 * @override
 */
com.adobe.cairngorm.business.WebServices.prototype.setRemoteCredentials = function(username, password) {
  for (var /** @type {string} */ name in this.com_adobe_cairngorm_business_WebServices_services) {
    var /** @type {mx.rpc.soap.WebService} */ service = /* implicit cast */ org.apache.royale.utils.Language.as(this.com_adobe_cairngorm_business_WebServices_services[name], mx.rpc.soap.WebService, true);
    service.setRemoteCredentials(username, password);
  }
};


/**
 * Release the resources held by the service.
 * @export
 * @override
 */
com.adobe.cairngorm.business.WebServices.prototype.release = function() {
};


/**
 * Log the user out of all registered services.
 * @export
 * @override
 */
com.adobe.cairngorm.business.WebServices.prototype.logout = function() {
  for (var /** @type {string} */ name in this.com_adobe_cairngorm_business_WebServices_services) {
    var /** @type {mx.rpc.soap.WebService} */ service = /* implicit cast */ org.apache.royale.utils.Language.as(this.com_adobe_cairngorm_business_WebServices_services[name], mx.rpc.soap.WebService, true);
    this.serviceLogout(service);
  }
};


/**
 * @protected
 * @override
 */
com.adobe.cairngorm.business.WebServices.prototype.serviceLogout = function(service) {
  var /** @type {mx.rpc.soap.WebService} */ webService = org.apache.royale.utils.Language.as(service, mx.rpc.soap.WebService, true);
  if (webService.channelSet.authenticated) {
    webService.logout();
  }
};


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
com.adobe.cairngorm.business.WebServices.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'WebServices', qName: 'com.adobe.cairngorm.business.WebServices', kind: 'class' }] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
com.adobe.cairngorm.business.WebServices.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    methods: function () {
      return {
        'register': { type: 'void', declaredBy: 'com.adobe.cairngorm.business.WebServices', parameters: function () { return [ 'com.adobe.cairngorm.business.IServiceLocator', false ]; }},
        'getService': { type: 'Object', declaredBy: 'com.adobe.cairngorm.business.WebServices', parameters: function () { return [ 'String', false ]; }},
        'setCredentials': { type: 'void', declaredBy: 'com.adobe.cairngorm.business.WebServices', parameters: function () { return [ 'String', false ,'String', false ]; }},
        'setRemoteCredentials': { type: 'void', declaredBy: 'com.adobe.cairngorm.business.WebServices', parameters: function () { return [ 'String', false ,'String', false ]; }},
        'release': { type: 'void', declaredBy: 'com.adobe.cairngorm.business.WebServices'},
        'logout': { type: 'void', declaredBy: 'com.adobe.cairngorm.business.WebServices'}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
com.adobe.cairngorm.business.WebServices.prototype.ROYALE_COMPILE_FLAGS = 11;

//# sourceMappingURL=./WebServices.js.map
